(function(){function e(){void 0===this.step&&(this.step=0),this.elem=this.line[this.step].elem,i.call(this)}function t(){this.elem=this.line[this.step].elem,i.call(this)}function o(){n.call(this)}function i(){var e=this;null===document.getElementById(h)&&s.call(e),null===document.getElementById(m)&&a.call(e),null===document.getElementById(x)&&d.call(e),L(),k(),l.call(e)}function n(){delete this.step,document.getElementById(m).remove(),document.getElementById(h).remove(),document.getElementById(x).remove()}function l(){var i=this;bPrev=document.getElementById(I),i.step>0?(bPrev.onclick=function(){i.step--,t.call(i)},bPrev.style.visibility="visible"):bPrev.style.visibility="hidden",bNext=document.getElementById(C),bNext.onclick=function(){p.call(i,i.step)?o.call(i):(i.step++,e.call(i))},S.option.indicatorAvailable&&(document.querySelectorAll('[id="'+E+'"]').forEach(e=>{e.classList.remove("active")}),document.querySelector('[id="'+E+'"][data-index="'+(i.step+1)+'"]').classList.add("active"),f("."+E+".active","background-color",S.option.indicatorColorActive),f("."+E,"background-color",S.option.indicatorColor)),S.option.allowClose&&(bClose=document.getElementById("gtour-close"),bClose.onclick=function(){S.option.exitConfirmation?1==confirm("Are you sure want to exit?")&&o.call(i):o.call(i)})}function r(){var e=this;S.option.allowClose&&(document.getElementById(x).onclick=function(){S.option.exitConfirmation?1==confirm("Are you sure want to exit?")&&o.call(e):o.call(e)})}function d(){this.body.appendChild(H("div",x,x)),r()}function s(){this.body.appendChild(H("div",h,h))}function a(){var e=H("div",m,m);e.appendChild(H("div",y,y)),e.appendChild(H("div",b,b)),e.appendChild(H("div",g,g)),this.body.appendChild(e),f("."+m,"background-color",S.option.backgroundColor),S.option.allowClose&&(document.getElementById(y).appendChild(H("span","gtour-close","")),T("#gtour-close","&#x2715;")),S.option.textFont&&(f("."+m,"font-family",S.option.textFont),f(".gtour-btn","font-family",S.option.textFont)),c(),l.call(S)}function c(){if(btnNext=H("button",C,C+" gtour-btn position-right"),btnPrev=H("button",I,I+" gtour-btn position-left"),S.option.buttonLabel){const e=H("span");e.innerHTML=w,btnNext.appendChild(e)}if(btnNext.appendChild(H("i","icon-btn-next","icon-btn-next")),btnPrev.appendChild(H("i","icon-btn-prev","icon-btn-prev")),S.option.buttonLabel){const e=H("span");e.innerHTML=A,btnPrev.appendChild(e)}if(document.getElementById(g).appendChild(btnPrev),S.option.indicatorAvailable){var e=H("div",v,v);S.line.forEach((t,o)=>{var i=H("div",E,E);i.setAttribute("data-index",o+1),e.appendChild(i)}),document.getElementById(g).appendChild(e)}document.getElementById(g).appendChild(btnNext),S.option.textColor&&f(".gtour-btn","color",S.option.textColor)}function p(e){return e>=this.line.length-1}function u(e){const t="^(?:#(?:[0-9a-fA-F]{3}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})|(?:rgb|hsl)a?(s*d{1,3}%?(?:s*,s*d{1,3}%?){2}(?:s*,s*(?:d{1,3}%?|0?.d+|1))?s*))$",o=[{field:"allowClose",type:B,default:!0},{field:"backgroundColor",type:z,validation:"regex=>"+t,default:"#fff"},{field:"textColor",type:z,validation:"regex=>"+t,default:"#000"},{field:"textFont",type:z,default:"initial"},{field:"exitConfirmation",type:B,default:!1},{field:"indicatorAvailable",type:B,default:!0},{field:"indicatorColorActive",type:z,validation:"regex=>"+t,default:"#6e6e6e"},{field:"indicatorColor",type:z,validation:"regex=>"+t,default:"#ddd"},{field:"buttonLabel",type:B,default:!1}];let i={};return o.forEach(t=>{void 0===e[t.field]||typeof e[t.field]!=t.type?i[t.field]=t.default:"validation"in t?t.validation.split("||").forEach(o=>{const[n,l]=o.split("=>");switch(n){case"regex":const o=new RegExp(l);o.test(e[t.field])&&(i[t.field]=e[t.field])}}):i[t.field]=e[t.field]}),i}function f(e,t,o){for(let i of document.styleSheets)try{for(let n of i.cssRules||i.rules)if(n.selectorText===e)return void n.style.setProperty(t,o)}catch(e){console.warn("Unable access external stylesheet: ",i.href)}}const h="gtour-spot-element",m="gtour-tooltip",y="gtour-tooltip-header",b="gtour-tooltip-body",g="gtour-tooltip-footer",v="gtour-tooltip-indicators",E="gtour-tooltip-item-indicators",x="gtour-overlay",C="btn-next",I="btn-prev",A="Previous",w="Next",B="boolean",z="string";var S;this.gtourJS=function(e){this.body=document.querySelector("body"),this.line=[{}],this.elem,this.unit="px",this.option=u(e),S=this},gtourJS.prototype.queue=function(e){Array.isArray(e)||console.error("Data type error")("object"==typeof e[0]?"":console.error("Data type error")),e.forEach(e=>{!e.elem&&console.error("Element not found")}),this.line=e},gtourJS.prototype.run=function(){e.call(this)};const k=()=>{position=N(S.elem),size=q(S.elem);let e={...position,...size};Object.entries(e).forEach(([t,o])=>{e[t]=o.toString()+S.unit}),P("#"+h,e)},L=()=>{const e="gtour-content-tooltip-header",t=S.line[S.step].position;var o,i;switch(null===document.getElementById(e)&&document.getElementById(y).appendChild(H("p",e,e)),ctHeader=document.getElementById(e),ctHeader.innerHTML=S.line[S.step].title?S.line[S.step].title:"",T("#"+b,S.line[S.step].description),position=N(S.elem),sizeElement=q(S.elem),Object.entries(position).forEach(([e,t])=>{position[e]=t.toString()+S.unit}),sizeTooltip=q("."+m),t){case"top":o=parseInt(sizeElement.height)-(parseInt(sizeElement.height)+parseInt(sizeTooltip.height)+10),i=20;break;case"left":o=.3*parseInt(sizeElement.height),i=parseInt(sizeElement.width)-(parseInt(sizeElement.width)+parseInt(sizeTooltip.width)+10);break;case"right":o=.3*parseInt(sizeElement.height),i=parseInt(sizeElement.width)+10;break;default:o=parseInt(sizeElement.height)+10,i=20}let n={...position,transform:"translate("+i+"px, "+o+"px)"};P("#"+m,n),f("."+m,"color",S.option.textColor)},P=(e,t)=>{const o=document.querySelector(e);Object.entries(t).forEach(([e,o])=>{t[e]=o.replace(",","|")}),style=JSON.stringify(t).replace("{","").replace("}","").replaceAll('"',"").replaceAll(",",";").replaceAll("|",","),o.setAttribute("style",style)},H=(e,t,o)=>{let i=document.createElement(e);return void 0!==t&&i.setAttribute("id",t),void 0!==o&&i.setAttribute("class",o),i},T=(e,t)=>{document.querySelector(e).innerHTML=t},q=e=>{let t=document.querySelector(e);return sWidth=t.offsetWidth,sHeight=t.offsetHeight,{width:sWidth,height:sHeight}},N=e=>{element=document.querySelector(e);var t=0,o=0;do{t+=element.offsetTop||0,o+=element.offsetLeft||0,element=element.offsetParent}while(element);return{top:t,left:o}};window.addEventListener("resize",function(){void 0!==S.step&&i.call(S)})})();